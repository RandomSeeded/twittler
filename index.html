<!DOCTYPE html>
<html>
  <head>
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
    <title>Twittler</title>
  </head>
  <body>
    <div>
      <button type="button" id="GetNewTweets">Get New Tweets</button>
    </div>
    <div id="tweets">
      <script>
        $(document).ready(function(){
          var $tweets = $("#tweets");
          displayTweets();

          function displayTweets() {
            $tweets.html('');
            var index = streams.home.length - 1;
            while(index >= 0){
              var tweet = streams.home[index];
              var $tweet = $("<div class="+tweet.user+"></div>");
              $tweet.text("[ "+tweet.created_at + "] @" + tweet.user + ': ' + tweet.message);
              $tweet.appendTo($tweets);
              index -= 1;
            }
          }

          $("#GetNewTweets").on("click", function() {
            displayTweets();
          });
        });
      </script>
    </div>
  </body>
</html>
